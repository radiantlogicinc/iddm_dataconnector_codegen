{
  "login": {
    "methods": {
      "/authn/{account}/login": {
        "verb": "get",
        "operation": "getAPIKey",
        "tags": [
          "authentication"
        ],
        "description": "Passwords are stored in the Conjur database using `bcrypt`\nwith a work factor of 12. Therefore, login is a fairly expensive operation.\nHowever, once the API key is obtained, it may be used to inexpensively\nobtain access tokens by calling the Authenticate method. An access token\nis required to use most other parts of the Conjur API.\n\nThe Basic authentication-compliant header is formed by:\n1. Concatenating the role's name, a literal colon character ':',\n   and the password or API key to create the authentication string.\n2. Base64-encoding the authentication string.\n3. Prefixing the authentication string with the scheme: `Basic `\n   (note the required space).\n4. Providing the result as the value of the `Authorization` HTTP header:\n   `Authorization: Basic <authentication string>`.\n\nYour HTTP/REST client probably provides HTTP basic authentication support.\nFor example, `curl` and all of the Conjur client libraries provide this.\n\nNote that machine roles (Hosts) do not have passwords and do not need to\nuse this endpoint.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          }
        ]
      },
      "/authn-ldap/{service_id}/{account}/login": {
        "verb": "get",
        "operation": "getAPIKeyViaLDAP",
        "tags": [
          "authentication"
        ],
        "description": "Exchange your LDAP credentials for a Conjur API key. Once the\nAPI key is obtained, it may be used to inexpensively obtain access\ntokens by calling the Authenticate method. An access token\nis required to use most other parts of the Conjur API.\n\nThe Basic authentication-compliant header is formed by:\n1. Concatenating the LDAP username, a literal colon character ':',\n   and the password to create the authentication string.\n2. Base64-encoding the authentication string.\n3. Prefixing the authentication string with the scheme: `Basic `\n   (note the required space).\n4. Providing the result as the value of the `Authorization` HTTP header:\n   `Authorization: Basic <authentication string>`.\n\nYour HTTP/REST client probably provides HTTP basic authentication support.\n",
        "parameters": [
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          }
        ]
      }
    }
  },
  "inject_client_cert": {
    "methods": {
      "/authn-k8s/{service_id}/inject_client_cert": {
        "verb": "post",
        "operation": "k8sInjectClientCert",
        "tags": [
          "authentication"
        ],
        "description": "This request sends a Certificate Signing Request to Conjur,\nwhich uses the Kubernetes API to inject a client certificate into the\napplication pod.\n\nThis endpoint requires a properly configured Conjur Certificate Authority\nservice alongside a properly configured and enabled Kubernetes authenticator.\nFor detailed instructions,\nsee [the documentation](https://docs.conjur.org/Latest/en/Content/Integrations/kubernetes.htm).\n",
        "parameters": [
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          },
          {
            "name": "Host-Id-Prefix",
            "in": "header",
            "description": "Dot-separated policy tree, prefixed by `host.`, where the application identity is defined",
            "schema": {
              "type": "string",
              "example": "host/conjur/authn-k8s/my-authenticator-id/apps"
            }
          }
        ]
      }
    }
  },
  "authenticate": {
    "methods": {
      "/authn/{account}/{login}/authenticate": {
        "verb": "post",
        "operation": "getAccessToken",
        "tags": [
          "authentication"
        ],
        "description": "A client can obtain an access token by presenting a valid\nlogin name and API key.\n\nThe access token is used to communicate to the REST API that the bearer\nof the token has been authorized to access the API and perform specific\nactions specified by the scope that was granted during authorization.\n\nThe `login` must be URL encoded. For example, `alice@devops` must be\nencoded as `alice%40devops`.\n\nThe `service_id`, if given, must be URL encoded. For example,\n`prod/gke` must be encoded as `prod%2Fgke`.\n\nFor host authentication, the `login` is the host ID with the prefix\n`host/`. For example, the host webserver would login as `host/webserver`,\nand would be encoded as `host%2Fwebserver`.\n\nFor API usage, the base64-encoded access token is ordinarily passed as an HTTP\nAuthorization header as `Authorization: Token token=<base64-encoded token>`.\n\nThis is the default authentication endpoint only. See other endpoints for\ndetails on authenticating to Conjur using another method, e.g. for\napplications running in Azure or Kubernetes.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "login",
            "in": "path",
            "required": true,
            "description": "URL-encoded login name. For users, it’s the user ID. For hosts, the login name is `host/<host-id>`",
            "schema": {
              "$ref": "#/components/schemas/LoginName"
            }
          },
          {
            "name": "Accept-Encoding",
            "in": "header",
            "description": "Setting the Accept-Encoding header to base64 will return a pre-encoded access token",
            "schema": {
              "type": "string",
              "enum": [
                "application/json",
                "base64"
              ],
              "default": "application/json"
            }
          }
        ]
      },
      "/authn-gcp/{account}/authenticate": {
        "verb": "post",
        "operation": "getAccessTokenViaGCP",
        "tags": [
          "authentication"
        ],
        "description": "Use the GCP Authenticator API to send an authentication\nrequest from a Google Cloud service to Conjur.\n\nFor more information, see [the documentation](https://docs.conjur.org/Latest/en/Content/Operations/Services/cjr-gcp-authn.htm).\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "type": "string"
            },
            "example": "dev"
          },
          {
            "name": "Accept-Encoding",
            "in": "header",
            "description": "Setting the Accept-Encoding header to base64 will return a pre-encoded access token",
            "schema": {
              "type": "string",
              "enum": [
                "base64"
              ]
            }
          }
        ]
      },
      "/authn-oidc/{service_id}/{account}/authenticate": {
        "verb": "post",
        "operation": "getAccessTokenViaOIDC",
        "tags": [
          "authentication"
        ],
        "description": "Use the OIDC Authenticator to leverage the identity layer\nprovided by OIDC to authenticate with Conjur.\n\nFor more information see [the documentation](https://docs.conjur.org/Latest/en/Content/OIDC/OIDC.htm).\n",
        "parameters": [
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          }
        ]
      },
      "/authn-jwt/{service_id}/{account}/authenticate": {
        "verb": "post",
        "operation": "getAccessTokenViaJWT",
        "tags": [
          "authentication"
        ],
        "description": "Use the JWT Authenticator to leverage the identity layer\nprovided by JWT to authenticate with Conjur.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          }
        ]
      }
    }
  },
  "authn-iam": {
    "methods": {
      "/authn-iam/{service_id}/{account}/{login}/authenticate": {
        "verb": "post",
        "operation": "getAccessTokenViaAWS",
        "tags": [
          "authentication"
        ],
        "description": "The access token is used to communicate to the REST API that\nthe bearer of the token has been authorized to access the API and perform\nspecific actions specified by the scope that was granted during authorization.\n\nFor API usage, the base64-encoded access token is ordinarily passed as an HTTP\nAuthorization header as `Authorization: Token token=<base64-encoded token>`.\n\nThe `login` must be URL encoded and the host ID must have the prefix\n`host/`. For example, the host webserver would login as `host/webserver`,\nand would be encoded as `host%2Fwebserver`.\n\nThe `service_id`, if given, must be URL encoded. For example,\n`prod/gke` must be encoded as `prod%2Fgke`.\n\nFor detailed instructions on authenticating to Conjur using this endpoint,\nreference the documentation:\n[AWS IAM Authenticator](https://docs.conjur.org/Latest/en/Content/Operations/Services/AWS_IAM_Authenticator.htm) (`authn-iam`).\n",
        "parameters": [
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "login",
            "in": "path",
            "required": true,
            "description": "URL-encoded login name. For hosts, the login name is `host/<host-id>`",
            "schema": {
              "$ref": "#/components/schemas/LoginName"
            }
          },
          {
            "name": "Accept-Encoding",
            "in": "header",
            "description": "Setting the Accept-Encoding header to base64 will return a pre-encoded access token",
            "schema": {
              "type": "string",
              "enum": [
                "application/json",
                "base64"
              ],
              "default": "application/json"
            }
          }
        ]
      }
    }
  },
  "authn-azure": {
    "methods": {
      "/authn-azure/{service_id}/{account}/{login}/authenticate": {
        "verb": "post",
        "operation": "getAccessTokenViaAzure",
        "tags": [
          "authentication"
        ],
        "description": "The access token is used to communicate to the REST API that\nthe bearer of the token has been authorized to access the API and perform\nspecific actions specified by the scope that was granted during authorization.\n\nFor API usage, the base64-encoded access token is ordinarily passed as an HTTP\nAuthorization header as `Authorization: Token token=<base64-encoded token>`.\n\nThe `login` must be URL encoded and the host ID must have the prefix\n`host/`. For example, the host webserver would login as `host/webserver`,\nand would be encoded as `host%2Fwebserver`.\n\nThe `service_id`, if given, must be URL encoded. For example,\n`prod/gke` must be encoded as `prod%2Fgke`.\n\nTo authenticate to Conjur using this endpoint, reference the detailed\ndocumentation: [Azure Authenticator](https://docs.conjur.org/Latest/en/Content/Operations/Services/azure_authn.htm) (`authn-azure`).\n",
        "parameters": [
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "login",
            "in": "path",
            "required": true,
            "description": "URL-encoded login name. For users, it’s the user ID. For hosts, the login name is `host/<host-id>`",
            "schema": {
              "$ref": "#/components/schemas/LoginName"
            }
          },
          {
            "name": "Accept-Encoding",
            "in": "header",
            "description": "Setting the Accept-Encoding header to base64 will return a pre-encoded access token",
            "schema": {
              "type": "string",
              "enum": [
                "application/json",
                "base64"
              ],
              "default": "application/json"
            }
          }
        ]
      }
    }
  },
  "authn-k8s": {
    "methods": {
      "/authn-k8s/{service_id}/{account}/{login}/authenticate": {
        "verb": "post",
        "operation": "getAccessTokenViaKubernetes",
        "tags": [
          "authentication"
        ],
        "description": "The access token is used to communicate to the REST API that\nthe bearer of the token has been authorized to access the API and perform\nspecific actions specified by the scope that was granted during authorization.\n\nFor API usage, the base64-encoded access token is ordinarily passed as an HTTP\nAuthorization header as `Authorization: Token token=<base64-encoded token>`.\n\nThe `login` must be URL encoded and the host ID must have the prefix\n`host/`. For example, the host webserver would login as `host/webserver`,\nand would be encoded as `host%2Fwebserver`.\n\nThe `service_id`, if given, must be URL encoded. For example,\n`prod/gke` must be encoded as `prod%2Fgke`.\n\nTo authenticate to Conjur using this endpoint, reference the detailed\ndocumentation: [Kubernetes Authenticator](https://docs.conjur.org/Latest/en/Content/Operations/Services/k8s_auth.htm) (`authn-k8s`).\n",
        "parameters": [
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "login",
            "in": "path",
            "required": true,
            "description": "URL-encoded login name. For users, it’s the user ID. For hosts, the login name is `host/<host-id>`",
            "schema": {
              "$ref": "#/components/schemas/LoginName"
            }
          },
          {
            "name": "Accept-Encoding",
            "in": "header",
            "description": "Setting the Accept-Encoding header to base64 will return a pre-encoded access token",
            "schema": {
              "type": "string",
              "enum": [
                "application/json",
                "base64"
              ],
              "default": "application/json"
            }
          }
        ]
      }
    }
  },
  "authn-ldap": {
    "methods": {
      "/authn-ldap/{service_id}/{account}/{login}/authenticate": {
        "verb": "post",
        "operation": "getAccessTokenViaLDAP",
        "tags": [
          "authentication"
        ],
        "description": "The access token is used to communicate to the REST API that\nthe bearer of the token has been authorized to access the API and perform\nspecific actions specified by the scope that was granted during authorization.\n\nFor API usage, the base64-encoded access token is ordinarily passed as an HTTP\nAuthorization header as `Authorization: Token token=<base64-encoded token>`.\n\nThe `login` must be URL encoded. For example, `alice@devops` must be\nencoded as `alice%40devops`.\n\nThe `service_id`, if given, must be URL encoded. For example,\n`prod/gke` must be encoded as `prod%2Fgke`.\n\nFor host authentication, the `login` is the host ID with the prefix\n`host/`. For example, the host webserver would login as `host/webserver`,\nand would be encoded as `host%2Fwebserver`.\n\nTo authenticate to Conjur using a LDAP, reference the detailed documentation:\n[LDAP Authenticator](https://docs.conjur.org/Latest/en/Content/Integrations/ldap/ldap_authenticator.html) (`authn-ldap`).\n",
        "parameters": [
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "login",
            "in": "path",
            "required": true,
            "description": "URL-encoded login name. For users, it’s the user ID. For hosts, the login name is `host/<host-id>`",
            "schema": {
              "$ref": "#/components/schemas/LoginName"
            }
          },
          {
            "name": "Accept-Encoding",
            "in": "header",
            "description": "Setting the Accept-Encoding header to base64 will return a pre-encoded access token",
            "schema": {
              "type": "string",
              "enum": [
                "application/json",
                "base64"
              ],
              "default": "application/json"
            }
          }
        ]
      }
    }
  },
  "authn-jwt": {
    "methods": {
      "/authn-jwt/{service_id}/{account}/{id}/authenticate": {
        "verb": "post",
        "operation": "getAccessTokenViaJWTWithId",
        "tags": [
          "authentication"
        ],
        "description": "Use the JWT Authenticator to leverage the identity layer\nprovided by JWT to authenticate with Conjur.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "required": true,
            "description": "Organization account name",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Organization user id",
            "schema": {
              "$ref": "#/components/schemas/UserId"
            }
          },
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          }
        ]
      }
    }
  },
  "password": {
    "methods": {
      "/authn/{account}/password": {
        "verb": "put",
        "operation": "changePassword",
        "tags": [
          "authentication"
        ],
        "description": "You must provide the login name and current password or\nAPI key of the user whose password is to be updated in an HTTP Basic\nAuthentication header. Also replaces the user’s API key with a new\nsecurely generated random value. You can fetch the new API key using\nthe Login method.\n\nThe Basic authentication-compliant header is formed by:\n1. Concatenating the role's name, a literal colon character ':',\n   and the password or API key to create the authentication string.\n2. Base64-encoding the authentication string.\n3. Prefixing the authentication string with the scheme: `Basic `\n   (note the required space).\n4. Providing the result as the value of the `Authorization` HTTP header:\n   `Authorization: Basic <authentication string>`.\n\nYour HTTP/REST client probably provides HTTP basic authentication\nsupport. For example, `curl` and all of the Conjur client libraries\nprovide this.\n\nNote that machine roles (Hosts) do not have passwords. They authenticate\nusing their API keys, while passwords are only used by human users.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          }
        ]
      }
    }
  },
  "api_key": {
    "methods": {
      "/authn/{account}/api_key": {
        "verb": "put",
        "operation": "rotateApiKey",
        "tags": [
          "authentication"
        ],
        "description": "Any role can rotate its own API key. The name and password\n(for users) or current API key (for hosts and users) of the role must\nbe provided via HTTP Basic Authorization.\n\nTo rotate another role's API key, you may provide your name and password\n(for users) or current API key (for hosts and users) via HTTP Basic\nAuthorization with the request. Alternatively, you may provide your\nConjur access token via the standard Conjur `Authorization` header.\n\nThe Basic authentication-compliant header is formed by:\n1. Concatenating the role's name, a literal colon character ':',\n   and the password or API key to create the authentication string.\n2. Base64-encoding the authentication string.\n3. Prefixing the authentication string with the scheme: `Basic `\n   (note the required space).\n4. Providing the result as the value of the `Authorization` HTTP header:\n   `Authorization: Basic <authentication string>`.\n\nYour HTTP/REST client probably provides HTTP basic authentication support.\nFor example, `curl` and all of the Conjur client libraries provide this.\n\nIf using the Conjur `Authorization` header, its value should be set to\n`Token token=<base64-encoded access token>`.\n\nNote that the body of the request must be the empty string.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "role",
            "in": "query",
            "description": "(**Optional**) role specifier in `{kind}:{identifier}` format\n\n##### Permissions required\n\n`update` privilege on the role whose API key is being rotated.\n",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/RoleType"
            }
          }
        ]
      }
    }
  },
  "{account}": {
    "methods": {
      "/{authenticator}/{account}": {
        "verb": "patch",
        "operation": "enableAuthenticator",
        "tags": [
          "authentication"
        ],
        "description": "Allows you to either enable or disable a given authenticator that does not have service_id (For example: authn-gcp).\n\nWhen you enable or disable an authenticator via this\nendpoint, the status of the authenticator is stored\nin the Conjur database. The enablement status of the authenticator\nservice may be overridden by setting the `CONJUR_AUTHENTICATORS`\nenvironment variable on the Conjur server; in the case where this\nenvironment variable is set, the database record of whether the\nauthenticator service is enabled will be ignored.\n\n**This endpoint is part of an early implementation of support for enabling Conjur\nauthenticators via the API, and is currently available at the Community\n(or early alpha) level. This endpoint is still subject to breaking\nchanges in the future.**\n",
        "parameters": [
          {
            "name": "authenticator",
            "in": "path",
            "description": "The authenticator to update",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ServiceAuthenticators"
            },
            "example": "authn-gcp"
          },
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "dev"
          }
        ]
      },
      "/resources/{account}": {
        "verb": "get",
        "operation": "showResourcesForAccount",
        "tags": [
          "resources"
        ],
        "description": "Lists resources within an organization account.\n\nIf a `kind` query parameter is given, narrows results to only resources of that kind.\n\nIf a `limit` is given, returns no more than that number of results. Providing an `offset`\nskips a number of resources before returning the rest. In addition, providing an `offset`\nwill give `limit` a default value of 10 if none other is provided. These two parameters\ncan be combined to page through results.\n\nIf the parameter `count` is `true`, returns only the number of items in the list.\n\n##### Text search\n\nIf the `search` parameter is provided, narrows results to those pertaining to the search query.\nSearch works across resource IDs and the values of annotations. It weighs results so that those\nwith matching id or a matching value of an annotation called `name` appear first, then those with\nanother matching annotation value, and finally those with a matching  `kind`.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "kind",
            "in": "query",
            "description": "Type of resource",
            "example": "user",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Kind"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Filter resources based on this value by name",
            "example": "db",
            "schema": {
              "$ref": "#/components/schemas/SearchFilter"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "When listing resources, start at this item number.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Offset"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "When listing resources, return up to this many results.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Limit"
            }
          },
          {
            "name": "count",
            "in": "query",
            "description": "When listing resources, if `true`, return only the count of the results.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Count"
            }
          },
          {
            "name": "role",
            "in": "query",
            "description": "Retrieves the resources list for a different role if the authenticated role has access",
            "example": "myorg:host:host1",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/RoleType"
            }
          },
          {
            "name": "acting_as",
            "in": "query",
            "description": "Retrieves the resources list for a different role if the authenticated role has access",
            "example": "myorg:host:host1",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/RoleType"
            }
          }
        ]
      }
    }
  },
  "default": {
    "methods": {
      "/{authenticator}/{service_id}/{account}": {
        "verb": "patch",
        "operation": "enableAuthenticatorInstance",
        "tags": [
          "authentication"
        ],
        "description": "Allows you to either enable or disable a given authenticator\nservice instance.\n\nWhen you enable or disable an authenticator service instance via this\nendpoint, the status of the authenticator service instance is stored\nin the Conjur database. The enablement status of the authenticator\nservice instance may be overridden by setting the `CONJUR_AUTHENTICATORS`\nenvironment variable on the Conjur server; in the case where this\nenvironment variable is set, the database record of whether the\nauthenticator service instance is enabled will be ignored.\n\n**This endpoint is part of an early implementation of support for enabling Conjur\nauthenticators via the API, and is currently available at the Community\n(or early alpha) level. This endpoint is still subject to breaking\nchanges in the future.**\n",
        "parameters": [
          {
            "name": "authenticator",
            "in": "path",
            "description": "The authenticator to update",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ServiceAuthenticators"
            },
            "example": "authn-oidc"
          },
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          },
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "dev"
          }
        ]
      }
    }
  },
  "whoami": {
    "methods": {
      "/whoami": {
        "verb": "get",
        "operation": "whoAmI",
        "tags": [
          "status"
        ],
        "description": "WhoAmI provides information about the client making an API request.\nIt can be used to help troubleshoot configuration by verifying authentication\nand the client IP address for audit and network access restrictions.\nFor more information, see Host Attributes.\n",
        "parameters": []
      }
    }
  },
  "status": {
    "methods": {
      "/{authenticator}/{service_id}/{account}/status": {
        "verb": "get",
        "operation": "getServiceAuthenticatorStatus",
        "tags": [
          "status"
        ],
        "description": "Once the status webservice has been properly configured and the relevant user\ngroups have been given permissions to access the status webservice, the\nusers in those groups can check the status of the authenticator.\n\nSupported Authenticators:\n  - Azure\n  - OIDC\n\nNot Supported:\n  - AWS IAM\n  - Kubernetes\n  - LDAP\n\nSee [Conjur Documentation](https://docs.conjur.org/Latest/en/Content/Integrations/Authn-status.htm)\nfor details on setting up the authenticator status webservice.\n",
        "parameters": [
          {
            "name": "authenticator",
            "in": "path",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The type of authenticator",
            "example": "authn-oidc"
          },
          {
            "$ref": "openapi.yml#/components/parameters/ServiceID"
          },
          {
            "name": "account",
            "in": "path",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The organization account name",
            "example": "dev"
          }
        ]
      },
      "/authn-gcp/{account}/status": {
        "verb": "get",
        "operation": "getGCPAuthenticatorStatus",
        "tags": [
          "status"
        ],
        "description": "Once the status webservice has been properly configured and the relevant user\ngroups have been given permissions to access the status webservice, the\nusers in those groups can check the status of the authenticator.\n\nThis operation only supports the GCP authenticator\n\nSee [Conjur Documentation](https://docs.conjur.org/Latest/en/Content/Integrations/Authn-status.htm)\nfor details on setting up the authenticator status webservice.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The organization account name",
            "example": "dev"
          }
        ]
      }
    }
  },
  "authenticators": {
    "methods": {
      "/authenticators": {
        "verb": "get",
        "operation": "getAuthenticators",
        "tags": [
          "status"
        ],
        "description": "Response contains three members: installed, configured, and enabled.\n\ninstalled: The authenticator is implemented in Conjur and is available for configuration\nconfigured: The authenticator has a webservice in the DB that was loaded by policy\nenabled: The authenticator is enabled (in the DB or in the ENV) and is ready for authentication\n",
        "parameters": []
      }
    }
  },
  "health": {
    "methods": {
      "/health": {
        "verb": "get",
        "operation": "health",
        "tags": [
          "status"
        ],
        "description": "You can request health checks against any cluster node using the Conjur API.\nThese routes do not require authentication.\n\nThe health check attempts an internal HTTP or TCP connection to\neach Conjur Enterprise service. It also attempts a simple transaction against all internal databases.\n",
        "parameters": []
      }
    }
  },
  "{remote}": {
    "methods": {
      "/remote_health/{remote}": {
        "verb": "get",
        "operation": "remoteHealth",
        "tags": [
          "status"
        ],
        "description": "Use the remote_health route to check the health of any Conjur Enterprise Server from any other Conjur Enterprise Server.\nWith this route, you can check master health relative to a follower, or follower health relative\nto a standby, and so on.\n",
        "parameters": [
          {
            "name": "remote",
            "in": "path",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The hostname of the remote to check",
            "example": "conjur.myorg.com"
          }
        ]
      }
    }
  },
  "info": {
    "methods": {
      "/info": {
        "verb": "get",
        "operation": "info",
        "tags": [
          "status"
        ],
        "description": "Information about the Conjur Enterprise node which was queried against.\n\nIncludes authenticator info, release/version info, configuration details,\ninternal services, and role information.\n",
        "parameters": []
      }
    }
  },
  "secrets": {
    "methods": {
      "/secrets/{account}/{kind}/{identifier}": {
        "verb": "get",
        "operation": "getSecret",
        "tags": [
          "secrets"
        ],
        "description": "Fetches the value of a secret from the specified Secret. The latest version\nwill be retrieved unless the version parameter is specified. The twenty most recent secret versions are retained.\n\nThe secret data is returned in the response body.\n\nNote: Conjur will allow you to add a secret to any resource, but the best practice is to store\nand retrieve secret data only using Secret resources.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "kind",
            "in": "path",
            "description": "Type of resource - in almost all cases this should be `variable`",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Kind"
            }
          },
          {
            "name": "identifier",
            "in": "path",
            "description": "URL-encoded variable ID",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/ResourceID"
            }
          },
          {
            "name": "version",
            "in": "query",
            "description": "(**Optional**) Version you want to retrieve (Conjur keeps the last 20 versions of a secret)",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/ResourceVersion"
            }
          }
        ]
      },
      "/secrets": {
        "verb": "get",
        "operation": "getSecrets",
        "tags": [
          "secrets"
        ],
        "description": "Fetches multiple secret values in one invocation. It’s faster to fetch secrets in batches than to fetch them one at a time.",
        "parameters": [
          {
            "name": "variable_ids",
            "in": "query",
            "description": "Comma-delimited, URL-encoded resource IDs of the variables.",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ResourceIDs"
            }
          },
          {
            "name": "Accept-Encoding",
            "in": "header",
            "description": "Set the encoding of the response object",
            "schema": {
              "type": "string",
              "enum": [
                "base64"
              ]
            }
          }
        ]
      }
    }
  },
  "policy": {
    "methods": {
      "/policies/{account}/policy/{identifier}": {
        "verb": "patch",
        "operation": "updatePolicy",
        "tags": [
          "policies"
        ],
        "description": "Modifies an existing Conjur policy. Data may be explicitly deleted using\nthe `!delete`, `!revoke`, and `!deny` statements. Unlike `replace` mode,\nno data is ever implicitly deleted.\n\n##### Permissions required\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "identifier",
            "in": "path",
            "description": "ID of the policy to update",
            "required": true,
            "example": "root",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/ResourceID"
            }
          }
        ]
      }
    }
  },
  "roles": {
    "methods": {
      "/roles/{account}/{kind}/{identifier}": {
        "verb": "delete",
        "operation": "removeMemberFromRole",
        "tags": [
          "roles"
        ],
        "description": "Deletes an existing role membership.\n\nIf a role A is granted to a role B, then role A is said to have role B as a member.\nThese relationships are described in the “members” portion of the returned JSON.\n\nWhen the `members` query parameter is provided, you will get the members of a role.\n\nWhen the `members` and `member` query parameters are provided, the role specfified by\n`member` will be removed as a member of the role specified in the endpoint URI.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "kind",
            "in": "path",
            "description": "Type of resource",
            "required": true,
            "example": "user",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Kind"
            }
          },
          {
            "name": "identifier",
            "in": "path",
            "description": "ID of the role for which to get the information about",
            "required": true,
            "example": "admin",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/ResourceID"
            }
          },
          {
            "name": "members",
            "in": "query",
            "description": "Returns a list of the Role's members.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "member",
            "in": "query",
            "description": "The identifier of the Role to be added as a member.",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/RoleType"
            }
          }
        ]
      }
    }
  },
  "resources": {
    "methods": {
      "/resources": {
        "verb": "get",
        "operation": "showResourcesForAllAccounts",
        "tags": [
          "resources"
        ],
        "description": "Lists resources within an organization account.\n\nIn the absence of an `account` query parameter, shows results for the account of the authorization token user.\n\nIf an `account` query parameter is given, shows results for the specified account.\n\nIf a `kind` query parameter is given, narrows results to only resources of that kind.\n\nIf a `limit` is given, returns no more than that number of results. Providing an `offset`\nskips a number of resources before returning the rest. In addition, providing an `offset`\nwill give `limit` a default value of 10 if none other is provided. These two parameters can\nbe combined to page through results.\n\nIf the parameter `count` is `true`, returns only the number of items in the list.\n\n##### Text search\n\nIf the `search` parameter is provided, narrows results to those pertaining to the search query.\nSearch works across resource IDs and the values of annotations. It weighs results so that those\nwith matching id or a matching value of an annotation called `name` appear first, then those with\nanother matching annotation value, and finally those with a matching  `kind`.\"\n",
        "parameters": [
          {
            "name": "account",
            "in": "query",
            "description": "Organization account name",
            "example": "myorg",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "kind",
            "in": "query",
            "description": "Type of resource",
            "example": "user",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Kind"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Filter resources based on this value by name",
            "example": "db",
            "schema": {
              "$ref": "#/components/schemas/SearchFilter"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "When listing resources, start at this item number.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Offset"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "When listing resources, return up to this many results.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Limit"
            }
          },
          {
            "name": "count",
            "in": "query",
            "description": "When listing resources, if `true`, return only the count of the results.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Count"
            }
          },
          {
            "name": "role",
            "in": "query",
            "description": "Retrieves the resources list for a different role if the authenticated role has access",
            "example": "myorg:host:host1",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/RoleType"
            }
          },
          {
            "name": "acting_as",
            "in": "query",
            "description": "Retrieves the resources list for a different role if the authenticated role has access",
            "example": "myorg:host:host1",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/RoleType"
            }
          }
        ]
      },
      "/resources/{account}/{kind}": {
        "verb": "get",
        "operation": "showResourcesForKind",
        "tags": [
          "resources"
        ],
        "description": "Lists resources of the same kind within an organization account.\n\nKinds of resources include: policy, user, host, group, layer, or variable\n\nIf a `limit` is given, returns no more than that number of results.\nProviding an `offset` skips a number of resources before returning the rest.\nIn addition, providing an `offset` will give `limit` a default value of 10 if\nnone other is provided. These two parameters can be combined to page through results.\n\nIf the parameter `count` is `true`, returns only the number of items in the list.\n\n##### Text search\n\nIf the `search` parameter is provided, narrows results to those pertaining to the search query.\nSearch works across resource IDs and the values of annotations. It weighs results so that those\nwith matching id or a matching value of an annotation called `name` appear first, then those with\nanother matching annotation value, and finally those with a matching  `kind`.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "kind",
            "in": "path",
            "description": "Type of resource",
            "required": true,
            "example": "user",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Kind"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Filter resources based on this value by name",
            "example": "db",
            "schema": {
              "$ref": "#/components/schemas/SearchFilter"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "When listing resources, start at this item number.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Offset"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "When listing resources, return up to this many results.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Limit"
            }
          },
          {
            "name": "count",
            "in": "query",
            "description": "When listing resources, if `true`, return only the count of the results.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Count"
            }
          },
          {
            "name": "role",
            "in": "query",
            "description": "Retrieves the resources list for a different role if the authenticated role has access",
            "example": "myorg:host:host1",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/RoleType"
            }
          },
          {
            "name": "acting_as",
            "in": "query",
            "description": "Retrieves the resources list for a different role if the authenticated role has access",
            "example": "myorg:host:host1",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/RoleType"
            }
          }
        ]
      },
      "/resources/{account}/{kind}/{identifier}": {
        "verb": "get",
        "operation": "showResource",
        "tags": [
          "resources"
        ],
        "description": "Details about a single resource.\n\nIf `permitted_roles` and `privilege` are given, Conjur lists the\nroles with the specified privilege on the resource.\n\nIf `check`, `privilege` and `role` are given, Conjur checks if the\nspecified role has the privilege on the resource.\n\nIf `permitted_roles` and `check` are both given, Conjur responds to the `check` call ONLY.\n\n##### Permissions Required\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "kind",
            "in": "path",
            "description": "Type of resource",
            "required": true,
            "example": "user",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/Kind"
            }
          },
          {
            "name": "identifier",
            "in": "path",
            "description": "ID of the resource for which to get the information about",
            "required": true,
            "example": "conjur/authn-iam/test",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/ResourceID"
            }
          },
          {
            "name": "permitted_roles",
            "in": "query",
            "description": "Lists the roles which have the named privilege on a resource.",
            "schema": {
              "$ref": "#/components/schemas/PermittedRoles"
            }
          },
          {
            "name": "privilege",
            "in": "query",
            "description": "Level of privilege to filter on. Can only be used in combination with `permitted_roles` or `check` parameter.",
            "schema": {
              "$ref": "#/components/schemas/PrivilegeLevel"
            }
          },
          {
            "name": "check",
            "in": "query",
            "description": "Check whether a role has a privilege on a resource.",
            "schema": {
              "$ref": "#/components/schemas/CheckPrivilege"
            }
          },
          {
            "name": "role",
            "in": "query",
            "example": "myorg:host:host1",
            "description": "Role to check privilege on. Can only be used in combination with `check` parameter.",
            "schema": {
              "$ref": "openapi.yml#/components/schemas/RoleType"
            }
          }
        ]
      }
    }
  },
  "host_factory_tokens": {
    "methods": {
      "/host_factory_tokens": {
        "verb": "post",
        "operation": "createToken",
        "tags": [
          "host factory"
        ],
        "description": "Creates one or more tokens which can be used to bootstrap host identity. Responds with a JSON document containing the tokens and their restrictions.\n\nIf the tokens are created with a CIDR restriction, Conjur will only accept them from the whitelisted IP ranges.\n\n##### Permissions required\n#\n`execute` privilege on the Host Factory.\"\n",
        "parameters": []
      }
    }
  },
  "{token}": {
    "methods": {
      "/host_factory_tokens/{token}": {
        "verb": "delete",
        "operation": "revokeToken",
        "tags": [
          "host factory"
        ],
        "description": "Revokes a token, immediately disabling it.\n\n##### Permissions required\n\n`update` privilege on the host factory.\"\n",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "description": "The host factory token to revoke",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/TokenValue"
            }
          }
        ]
      }
    }
  },
  "hosts": {
    "methods": {
      "/host_factories/hosts": {
        "verb": "post",
        "operation": "createHost",
        "tags": [
          "host factory"
        ],
        "description": "Creates a Host using the Host Factory and returns a JSON description of it.\n\nRequires a host factory token, which can be created using the create tokens API.\nIn practice, this token is usually provided automatically as part of Conjur integration with your\nhost provisioning infrastructure.\n\nNote: If the token was created with a CIDR restriction, you must make this API request from a whitelisted address.\n",
        "parameters": []
      }
    }
  },
  "public_keys": {
    "methods": {
      "/public_keys/{account}/{kind}/{identifier}": {
        "verb": "get",
        "operation": "showPublicKeys",
        "tags": [
          "public keys"
        ],
        "description": "Shows all public keys for a resource as newline delimited string for compatibility with the authorized_keys SSH format.\nReturns an empty string if the resource does not exist, to prevent attackers from determining whether a resource exists.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "kind",
            "in": "path",
            "description": "Type of resource",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "openapi.yml#/components/schemas/Kind"
                },
                {
                  "example": "user"
                }
              ]
            }
          },
          {
            "name": "identifier",
            "in": "path",
            "description": "ID of the resource for which to get the information about",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "openapi.yml#/components/schemas/ResourceID"
                },
                {
                  "example": "admin"
                }
              ]
            }
          }
        ]
      }
    }
  },
  "sign": {
    "methods": {
      "/ca/{account}/{service_id}/sign": {
        "verb": "post",
        "operation": "sign",
        "tags": [
          "certificate authority"
        ],
        "description": "Gets a signed certificate from the configured Certificate Authority service.\n\nThe request must include a valid Certificate Signing Request, and a desired TTL in ISO 8601 format.\n\n*** IMPORTANT ***\nThis endpoint is part of an early implementation of support for using Conjur as a certificate\nauthority, and is currently available at the Community (or early alpha) level.\nThis endpoint is still subject to breaking changes in the future.\n",
        "parameters": [
          {
            "name": "account",
            "in": "path",
            "description": "Organization account name",
            "required": true,
            "schema": {
              "$ref": "openapi.yml#/components/schemas/AccountName"
            }
          },
          {
            "name": "service_id",
            "in": "path",
            "description": "Name of the Certificate Authority service",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "example": "ca-service"
            }
          },
          {
            "name": "Accept",
            "in": "header",
            "description": "Setting the Accept header to `application/x-pem-file` allows Conjur to respond with a formatted certificate",
            "schema": {
              "type": "string",
              "minLength": 1,
              "example": "application/x-pem-file"
            }
          }
        ]
      }
    }
  }
}